<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Gmail - 2083km Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Roboto:wght@400;500;700&family=Georgia:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0b57d0;
            --bg-color: #f6f8fc;
            --surface-color: #ffffff;
            --text-primary: #1f1f1f;
            --text-secondary: #444746;
            --active-nav: #d3e3fd;
            --nav-text-active: #001d35;
            --ai-bg: #eff3f8;
            --font-ui: 'Roboto', sans-serif;
            --font-brand: 'Google Sans', sans-serif;
            --font-body: 'Georgia', serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: var(--bg-color); font-family: var(--font-ui); }

        /* --- LOGIN PAGE --- */
        #login-view {
            position: fixed; inset: 0; background: #f0f4f8; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; font-family: var(--font-brand);
        }
        .login-card {
            background: #fff; width: 100%; max-width: 450px; padding: 48px 40px 36px; border-radius: 28px; display: flex; flex-direction: column; align-items: center;
        }
        @media (min-width: 600px) { .login-card { height: auto; border: 1px solid #dadce0; } }
        @media (max-width: 600px) { .login-card { height: 100%; border-radius: 0; justify-content: flex-start; padding-top: 60px; } #login-view { background: #fff; } }

        .google-logo { height: 24px; margin-bottom: 16px; }
        .login-heading { font-size: 24px; font-weight: 400; color: #1f1f1f; margin-bottom: 8px; }
        .login-sub { font-size: 16px; color: #1f1f1f; margin-bottom: 40px; }
        
        .login-input-box {
            width: 100%; border: 1px solid #747775; border-radius: 4px; padding: 13px 16px; font-size: 16px; color: #1f1f1f; margin-bottom: 8px; font-family: var(--font-ui);
        }
        .login-input-box:focus { outline: 2px solid #0b57d0; border-color: transparent; }
        
        .login-link { color: #0b57d0; font-weight: 500; font-size: 14px; text-decoration: none; align-self: flex-start; margin-bottom: 40px; cursor: pointer; }
        .login-actions { width: 100%; display: flex; justify-content: space-between; align-items: center; }
        .create-acc { color: #0b57d0; font-weight: 500; font-size: 14px; cursor: pointer; }
        .next-btn { background: #0b57d0; color: #fff; border: none; padding: 10px 24px; border-radius: 20px; font-weight: 500; font-size: 14px; cursor: pointer; font-family: var(--font-brand); }
        .next-btn:hover { background: #0a46a8; box-shadow: 0 1px 2px rgba(0,0,0,0.3); }

        .login-footer {
            margin-top: 24px; display: flex; justify-content: space-between; width: 100%; max-width: 450px; font-size: 12px; color: #444746; padding: 0 40px;
        }
        .footer-links span { margin-left: 16px; cursor: pointer; }

        /* TERMS MODAL */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 10000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
        .modal-card { background: #fff; width: 90%; max-width: 500px; padding: 30px; border-radius: 28px; font-family: var(--font-ui); max-height: 80vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
        .modal-title { font-family: var(--font-brand); font-size: 22px; margin-bottom: 20px; color: #1f1f1f; }
        .modal-text p { margin-bottom: 16px; font-size: 14px; line-height: 1.6; color: #444746; }
        .modal-close { background: #0b57d0; color: white; border: none; padding: 12px 24px; border-radius: 20px; float: right; cursor: pointer; margin-top: 10px; font-weight: 500; font-family: var(--font-brand); }

        /* --- APP UI --- */
        #app-view { display: none; width: 100%; height: 100%; flex-direction: column; }
        .app-shell { width: 100%; height: 100%; display: flex; flex-direction: column; }

        .header { height: 64px; padding: 8px 16px; background: var(--bg-color); display: flex; align-items: center; justify-content: space-between; }
        .menu-btn { padding: 12px; border-radius: 50%; cursor: pointer; color: #444746; }
        .menu-btn:hover { background: #e1e3e1; }
        
        .search-bar {
            flex: 1; max-width: 720px; background: #eaf1fb; height: 48px; border-radius: 24px; display: flex; align-items: center; padding: 0 20px; margin: 0 12px;
        }
        .search-input { border: none; background: transparent; flex: 1; margin-left: 12px; outline: none; font-size: 16px; color: #1f1f1f; font-family: var(--font-ui); }
        
        .profile-pic-btn { width: 32px; height: 32px; border-radius: 50%; overflow: hidden; cursor: pointer; border: 2px solid #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .profile-pic-btn img { width: 100%; height: 100%; object-fit: cover; }

        .main-container { display: flex; flex: 1; overflow: hidden; }

        /* Sidebar */
        .sidebar { width: 256px; padding: 16px 12px; background: var(--bg-color); display: flex; flex-direction: column; }
        /* Compose button removed as requested */
        
        .nav-item {
            height: 32px; padding: 0 12px 0 26px; display: flex; align-items: center; border-radius: 16px; cursor: pointer; color: #444746; font-size: 14px; font-weight: 500; margin-bottom: 2px;
        }
        .nav-item.active { background: var(--active-nav); color: var(--nav-text-active); font-weight: 700; }
        .nav-item:hover:not(.active) { background: #e1e3e1; }
        .nav-icon { width: 20px; height: 20px; margin-right: 12px; fill: currentColor; }
        .nav-badge { margin-left: auto; font-size: 12px; }

        /* Email List */
        .email-list-panel { flex: 1; background: #fff; border-radius: 16px 16px 0 0; margin-right: 16px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 0 10px rgba(0,0,0,0.02); }
        
        /* AI Overview */
        .ai-overview {
            background-color: var(--ai-bg);
            padding: 12px 16px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            margin: 8px 12px;
            border-radius: 12px;
            transition: 0.2s;
        }
        .ai-header { display: flex; align-items: center; gap: 10px; }
        .ai-sparkle { width: 18px; height: 18px; }
        .ai-title { font-family: var(--font-brand); font-size: 14px; font-weight: 500; color: #1f1f1f; flex: 1; }
        .ai-arrow { width: 20px; height: 20px; fill: #444746; transition: transform 0.3s; }
        .ai-overview.open .ai-arrow { transform: rotate(180deg); }
        .ai-content { 
            display: none; margin-top: 12px; font-size: 13px; line-height: 1.5; color: #444746; 
            padding-left: 28px;
        }
        .ai-overview.open .ai-content { display: block; }

        .email-scroll { overflow-y: auto; flex: 1; }
        .email-row {
            display: flex; align-items: flex-start; padding: 10px 16px; border-bottom: 1px solid #f2f2f2; cursor: pointer;
        }
        .email-row:hover { box-shadow: inset 1px 0 0 #dadce0, inset -1px 0 0 #dadce0, 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15); z-index: 1; position: relative; }
        
        .sender-avatar {
            width: 36px; height: 36px; border-radius: 50%; margin-right: 14px; display: flex; align-items: center; justify-content: center; font-weight: 500; color: #fff; font-size: 18px; flex-shrink: 0; overflow: hidden;
        }
        .sender-avatar img { width: 100%; height: 100%; object-fit: cover; }
        
        .email-content { flex: 1; min-width: 0; }
        .row-top { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .row-sender { font-weight: 700; font-size: 15px; color: #1f1f1f; }
        .row-time { font-size: 12px; color: #444746; font-weight: 500; }
        .row-subject { font-size: 14px; color: #1f1f1f; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .row-snippet { font-size: 14px; color: #5e5e5e; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 400; }

        /* Email Detail */
        .email-detail { position: absolute; inset: 0; background: #fff; z-index: 200; display: none; flex-direction: column; }
        .detail-toolbar { height: 56px; padding: 0 16px; display: flex; align-items: center; gap: 20px; border-bottom: 1px solid #f2f2f2; }
        .back-arrow { cursor: pointer; padding: 8px; border-radius: 50%; }
        .back-arrow:hover { background: #f2f2f2; }
        
        .detail-content { flex: 1; overflow-y: auto; padding: 24px 72px; }
        .detail-subject { font-family: var(--font-brand); font-size: 22px; color: #1f1f1f; margin-bottom: 20px; }
        .detail-meta { display: flex; align-items: center; margin-bottom: 24px; gap: 16px; }
        .detail-avatar { width: 40px; height: 40px; border-radius: 50%; overflow: hidden; }
        .detail-avatar img { width: 100%; height: 100%; object-fit: cover; }
        .meta-info div:first-child { font-weight: 700; font-size: 14px; color: #1f1f1f; }
        .meta-info div:last-child { font-size: 12px; color: #5e5e5e; }
        
        .detail-body { font-family: var(--font-body); font-size: 16px; line-height: 1.6; color: #1f1f1f; }

        /* Purchase Card */
        .google-order-card {
            background-color: #f2f6fc; border-radius: 20px; padding: 24px; margin-bottom: 24px; font-family: var(--font-brand); max-width: 400px;
        }
        .card-header { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .card-title { font-weight: 600; font-size: 16px; }
        .card-sub { font-size: 14px; color: #444746; }
        .card-logo { width: 40px; height: 40px; background: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--primary-color); }
        .card-status { font-size: 28px; color: #1f1f1f; margin-bottom: 24px; }
        .card-row { display: flex; margin-bottom: 24px; }
        .hash { font-size: 24px; margin-right: 12px; color: #1f1f1f; }
        .ord-label { font-size: 12px; font-weight: 700; }
        .ord-val { font-size: 14px; color: #444746; }
        .view-btn { background: #0b57d0; color: #fff; padding: 10px 24px; border-radius: 20px; border: none; font-weight: 500; cursor: pointer; }

        @media (max-width: 800px) {
            .sidebar { display: none; }
            .email-list-panel { margin-right: 0; border-radius: 0; }
            .detail-content { padding: 16px; }
        }
    </style>
</head>
<body>

    <!-- TERMS OF SERVICE MODAL -->
    <div class="modal-overlay" id="termsModal">
        <div class="modal-card">
            <h2 class="modal-title">Terms & Conditions of Being Loved by Niv</h2>
            <div class="modal-text">
                <p><strong>1. The Distance Clause:</strong> The 2,083km distance is acknowledged as a "temporary bug" in the universe's code. User agrees to complain about it daily but persist regardless.</p>
                <p><strong>2. The Cat Supremacy Act:</strong> Stitch (the cat) holds the rank of Supreme Leader. His judgment is final. User accepts second-place status in household hierarchy.</p>
                <p><strong>3. Non-Refundable Heart:</strong> Niv's heart is gifted on a non-refundable, non-exchangeable basis. Warranty covers lifetime repairs and unlimited refills of affection.</p>
                <p><strong>4. Data Collection:</strong> User consents to Niv tracking flight prices, saving voice notes, and memorizing random facts about User (e.g., favorite pen brand, coffee order) for the purpose of "Being a Good Boyfriend."</p>
                <p><strong>5. The Grocery Store Fantasy:</strong> User agrees to eventually participate in mundane activities (buying tomatoes, choosing detergent) which will be treated as sacred events. Dmart runs are mandatory.</p>
            </div>
            <button class="modal-close" id="acceptTermsBtn">I Accept (Obviously)</button>
        </div>
    </div>

    <!-- LOGIN SCREEN -->
    <div id="login-view">
        <div class="login-card">
            <svg class="google-logo" viewBox="0 0 74 24">
                <path fill="#4285F4" d="M9.13 19.34C4.19 19.34 0 15.22 0 10.17 0 5.12 4.19 1 9.13 1c2.68 0 5.09 1.02 6.94 2.81l-2.07 2.07c-1.12-1.1-2.91-1.92-4.87-1.92-3.83 0-6.99 3.22-6.99 7.21s3.16 7.21 6.99 7.21c3.54 0 5.57-2.31 6.27-4.66h-6.27v-2.82h9.24c.1.51.16 1.05.16 1.63 0 4.79-3.26 8.8-9.4 8.8z" />
                <path fill="#EA4335" d="M29.59 12.54c0 3.79-2.86 6.8-6.67 6.8-3.8 0-6.66-3.01-6.66-6.8 0-3.79 2.86-6.8 6.66-6.8 3.81 0 6.67 3.01 6.67 6.8zm-2.92 0c0-2.35-1.74-4.14-3.75-4.14-2.01 0-3.75 1.79-3.75 4.14s1.74 4.14 3.75 4.14c2.01 0 3.75-1.79 3.75-4.14z" />
                <path fill="#FBBC05" d="M44.47 12.54c0 3.79-2.86 6.8-6.67 6.8-3.8 0-6.66-3.01-6.66-6.8 0-3.79 2.86-6.8 6.66-6.8 3.8 0 6.67 3.01 6.67 6.8zm-2.92 0c0-2.35-1.74-4.14-3.75-4.14-2.01 0-3.75 1.79-3.75 4.14s1.74 4.14 3.75 4.14c2.01 0 3.75-1.79 3.75-4.14z" />
                <path fill="#4285F4" d="M58.91 7.22v11.4c0 4.56-2.65 6.47-5.91 6.47-3.09 0-4.99-2.14-5.63-3.79l2.53-1.09c.43 1.06 1.54 2.22 3.1 2.22 2.03 0 3.25-1.28 3.25-3.61v-.9h-.1c-.69.86-2.03 1.62-3.84 1.62-3.66 0-6.73-3.13-6.73-6.9 0-3.73 3.07-6.9 6.73-6.9 1.81 0 3.15.79 3.84 1.62h.1V7.22h2.76zm-2.81 5.42c0-2.29-1.63-4.14-3.59-4.14-2.01 0-3.64 1.85-3.64 4.14 0 2.27 1.63 4.14 3.64 4.14 1.96 0 3.59-1.87 3.59-4.14z" />
                <path fill="#34A853" d="M63.31 1.78h2.92v17.56h-2.92z" />
                <path fill="#EA4335" d="M72.71 16.71c-1.38 0-2.38-.63-3.03-1.92l8.36-3.46-.3-.72c-.54-1.47-2.22-4.17-5.61-4.17-3.38 0-6.19 2.65-6.19 6.9 0 3.64 2.76 6.8 6.78 6.8 3.16 0 5.01-1.92 5.76-3.06l-2.31-1.54c-.75 1.12-1.78 1.67-2.96 1.67zm-.17-6.39c1.17 0 2.14.6 2.47 1.44l-5.92 2.46c0-1.67 1.18-3.9 3.45-3.9z" />
            </svg>
            <h1 class="login-heading">Sign in</h1>
            <p class="login-sub">to continue to Gmail</p>
            <input type="text" class="login-input-box" value="aaradhya@lovedbyNiv.com" readonly>
            <div class="login-link">Forgot email?</div>
            <div class="login-actions">
                <div class="create-acc">Create account</div>
                <button class="next-btn" id="loginBtn">Next</button>
            </div>
        </div>
        <div class="login-footer">
            <div class="lang">English (United States)</div>
            <div class="footer-links">
                <span>Help</span>
                <span>Privacy</span>
                <span onclick="document.getElementById('termsModal').style.display='flex'">Terms</span>
            </div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div id="app-view">
        <div class="app-shell">
            <header class="header">
                <div class="menu-btn">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" fill="currentColor"></path></svg>
                </div>
                <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x_r5.png" alt="Gmail" style="height: 24px; margin-left: 16px;">
                <div class="search-bar">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="#444746"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search in mail">
                </div>
                <!-- Aaradhya's PFP (Lorelai) -->
                <div class="profile-pic-btn" id="profileBtn">
                    <img src="https://masukfreepress.com/wp-content/uploads/2024/11/img_0732.jpeg" alt="Lorelai">
                </div>
            </header>

            <div class="main-container">
                <!-- SIDEBAR -->
                <nav class="sidebar">
                    <div style="height: 16px;"></div> <!-- Spacer since compose is removed -->
                    
                    <div class="nav-item active" data-id="all">
                        <svg class="nav-icon" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" fill="currentColor"></path></svg>
                        Inbox
                        <span class="nav-badge" id="badge-all"></span>
                    </div>
                    <div class="nav-item" data-id="social">
                        <svg class="nav-icon" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" fill="currentColor"></path></svg>
                        Social
                        <span class="nav-badge" id="badge-social"></span>
                    </div>
                    <div class="nav-item" data-id="promotions">
                        <svg class="nav-icon" viewBox="0 0 24 24"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z" fill="currentColor"></path></svg>
                        Promotions
                        <span class="nav-badge" id="badge-promotions"></span>
                    </div>
                    <div class="nav-item" data-id="purchases">
                        <svg class="nav-icon" viewBox="0 0 24 24"><path d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 14H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v10z" fill="currentColor"></path></svg>
                        Purchases
                        <span class="nav-badge" id="badge-purchases"></span>
                    </div>
                    <div class="nav-item" data-id="spam">
                        <svg class="nav-icon" viewBox="0 0 24 24"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="currentColor"></path></svg>
                        Spam
                        <span class="nav-badge" id="badge-spam"></span>
                    </div>
                </nav>

                <!-- EMAIL LIST -->
                <div class="email-list-panel">
                    <div class="category-label" id="catLabel">Primary</div>
                    
                    <!-- AI OVERVIEW -->
                    <div class="ai-overview" id="aiToggle">
                        <div class="ai-header">
                            <!-- Sparkle Icon -->
                            <svg class="ai-sparkle" viewBox="0 0 24 24">
                                <defs>
                                    <linearGradient id="sparkle" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#4285f4" />
                                        <stop offset="50%" style="stop-color:#9b72cb" />
                                        <stop offset="100%" style="stop-color:#ea4335" />
                                    </linearGradient>
                                </defs>
                                <path fill="url(#sparkle)" d="M10 2L12 8L18 10L12 12L10 18L8 12L2 10L8 8L10 2Z"/>
                            </svg>
                            <span class="ai-title">Gemini summary</span>
                            <svg class="ai-arrow" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                        </div>
                        <div class="ai-content">
                            <strong>Summary of your inbox:</strong><br>
                            Niv is currently thinking about you (approx. 94% of his CPU usage).<br>
                            Distance remains unchanged at 2083km.<br>
                            Suggested actions: FaceTime him, eat a momo, or send a selfie to restore his sanity.
                        </div>
                    </div>

                    <div class="email-scroll" id="emailContainer">
                        <!-- Emails render here -->
                    </div>
                </div>

                <!-- EMAIL DETAIL -->
                <div class="email-detail" id="emailDetail">
                    <div class="detail-toolbar">
                        <div class="back-arrow" id="closeDetail">
                            <svg viewBox="0 0 24 24" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="#444746"></path></svg>
                        </div>
                    </div>
                    <div class="detail-content" id="detailContent"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        // Niv's PFP (User provided link)
        // Since it's a sharing link and not a direct image, I'll use a fallback in the img tag
        const NIV_PFP_URL = "https://share.google/Hz4hY7JBMmXqf3lfR"; 

        const emails = [
            // PRIMARY (13 emails total needed to reach count 32 with others)
            {
                id: 'p1', label: 'primary', sender: 'Niv', time: '3:00 PM', subject: 'STRICTLY PRIVATE & CONFIDENTIAL: Employment Offer - Aaradhya', snippet: 'Attached: Employment Contract for position of Permanent Girlfriend.',
                body: `<div style="font-family: 'Times New Roman', serif; padding: 40px; border: 1px solid #ccc;">
                    <h2 style="text-align:center;">NIV'S LIFE INC.</h2>
                    <p style="text-align:center; font-size:12px;">Human Resources | 2083km Branch</p>
                    <hr>
                    <p><strong>Subject:</strong> OFFER OF EMPLOYMENT</p>
                    <p>Dear Ms. Aaradhya,</p>
                    <p>Following an 8-month probation of "Putting Up With Me", we are pleased to offer you the role of <strong>Permanent Girlfriend & Future Cat Manager</strong>.</p>
                    <h4>COMPENSATION:</h4>
                    <ul><li>Unlimited affection</li><li>100% Equity in My Heart</li><li>Unlimited Momo allowance</li></ul>
                    <h4>TERMS:</h4>
                    <p>No termination clause. You are stuck with me.</p>
                    <p>Signed,<br>Niv, CEO</p>
                </div>`
            },
            {
                id: 'p2', label: 'primary', sender: 'Niv', time: 'Feb 13', subject: 'The pen situation', snippet: 'We need to discuss something important regarding stationery.',
                body: `<p>You mentioned your favorite pen once. 6 months ago. I remember.</p><p>This isn't about the pen. It's about me taking notes on everything you love because when we are finally together, I want to have it stocked.</p><p>Also, I set an alert for when they are back in stock.</p>`
            },
            {
                id: 'p3', label: 'primary', sender: 'The Distance Times', time: 'Feb 13', subject: 'Study confirms: 2083km is "Too Far"', snippet: 'Experts (Me) cite high humidity and lack of holding hands.',
                body: `<h1>THE DISTANCE TIMES</h1><p><strong>BREAKING:</strong> Local man Niv remains 2083km away. Sources say "This sucks."</p><p>Scientists advise Aaradhya to finish exams so operations can resume.</p>`
            },
            {
                id: 'p4', label: 'primary', sender: 'The Love Yorker', time: 'Feb 14', subject: 'Essay: The Theology of Grocery Shopping', snippet: 'I have elaborate, borderline concerning fantasies about produce.',
                illustration: `<svg viewBox="0 0 200 150" style="margin:0 auto; display:block; max-width:100%;"><rect x="60" y="60" width="80" height="60" rx="5" fill="#e0e0e0"/><circle cx="70" cy="125" r="8" fill="#333"/><circle cx="130" cy="125" r="8" fill="#333"/><circle cx="100" cy="80" r="15" fill="#d93025"/><rect x="95" y="55" width="10" height="10" fill="#2e7d32"/></svg>`,
                body: `<div style="max-width:600px; margin:0 auto;">
                <h2 style="font-family:'Google Sans',sans-serif; text-align:center;">THE LOVE YORKER</h2>
                <p>I have elaborate, borderline concerning fantasies about grocery shopping.</p>
                <p>We’re in the produce section. She’s explaining photosynthesis or chlorophyll or something biological about the lettuce. I’m not listening. I’m watching her exist in three dimensions for the first time, and my brain is struggling to process that she’s real and here and reaching for tomatoes like this is normal.</p>
                <p>We argue about coffee brands in aisle seven. She wins. She always wins because she actually knows what she’s talking about and I just like watching her be right about things. Diet Coke and Wai Wai go in the cart. She gets that specific kind of excited that makes her voice go up half an octave. I’m filing away this expression for future reference, this particular configuration of happiness.</p>
                <p>At checkout, I’m helping, I’m staring. She’s managing everything perfectly like she always does, and I’m just standing there having an emotional crisis about the fact that we’re buying groceries together like this is a normal thing that normal people do.</p>
                <p>This is what distance does to a person: it turns Dmart into a religious experience.</p>
                </div>`
            },
            {
                id: 'p5', label: 'primary', sender: 'Niv', time: 'Feb 13', subject: 'Quick thoughts on the plant text', snippet: 'I can\'t stop thinking about what you said.',
                body: `<p>That text about modifying plants for space? "Easier to change ourselves than our surroundings."</p><p>It's stuck in my head. We are adapting to the distance like astronauts.</p>`
            },
            {
                id: 'p6', label: 'primary', sender: 'Niv', time: 'Feb 12', subject: 'Lipstick Tutorial: My notes', snippet: '1. You look good. 2. I have no idea what "baking" is.',
                body: `<p>Notes from FaceTime:</p><ol><li>Focus: 10/10</li><li>Baking: Still confused. Oven required?</li><li>You talk fast like Lorelai.</li></ol>`
            },
            {
                id: 'p7', label: 'primary', sender: 'Niv', time: 'Feb 11', subject: 'The quiet part of the day', snippet: 'Just realized something while walking home.',
                body: `<p>It's 2 PM here and usually I'd send a meme or a link to a song, but I just wanted to say I missed you.</p>
                <p>Not in a dramatic, movie way. Just in a quiet, "the world is slightly less colorful without you" way.</p>
                <p>I was walking home and saw something funny, and my first instinct was to tell you. Then I remembered you're studying. So I'm telling you now via email so I don't disturb you.</p>
                <p>Miss you.</p>`
            },
            {
                id: 'p8', label: 'primary', sender: 'Niv', time: 'Feb 13', subject: 'F1 logic / Hamilton thoughts', snippet: 'Watching the quali highlights and realized something.',
                body: `<p>If Lewis Hamilton freaks out over 0.2 seconds gap, I am allowed to freak out over 2083km gap. It's just logic.</p>`
            },
            {
                id: 'p9', label: 'primary', sender: 'Niv', time: 'Feb 12', subject: 'Board exam reminder', snippet: 'Quick message before you study.',
                body: `<p>You're going to do great. Not just because you're smart, but because you're prepared. One exam doesn't define you.</p>`
            },
            {
                id: 'p10', label: 'primary', sender: 'Niv', time: 'Feb 09', subject: 'Coffee logic', snippet: 'I drank too much coffee and now I have a theory.',
                body: `<p>Theory: If I vibrate fast enough from caffeine, I can phase through space-time to your room.</p>`
            },
            {
                id: 'p11', label: 'primary', sender: 'Niv', time: '5:00 PM', subject: 'Random thought at 5PM', snippet: 'I did the math...',
                body: `<p>I calculated driving time. Google Maps laughed at me. Geography is my nemesis.</p>`
            },
            {
                id: 'p12', label: 'primary', sender: 'Niv', time: 'Feb 11', subject: 'The "I like you so much" era', snippet: 'Remembering before we said love.',
                body: `<p>Remember when we said "I like you so much" because "I love you" was too scary? I liked that era. But I love this one more.</p>`
            },
            {
                id: 'p13', label: 'primary', sender: 'Niv', time: 'Feb 14', subject: 'The architecture of my gallery', snippet: 'It is 90% screenshots of you.',
                body: `<p>I was cleaning my phone storage. I have 400 screenshots of our FaceTimes. I deleted zero of them.</p>`
            },
            {
                id: 'p14', label: 'primary', sender: 'Niv', time: 'Feb 14', subject: 'Regarding the weather', snippet: 'It is humid here.',
                body: `<p>It's humid here. I assume it's dry there. I wish we were sharing the same weather.</p>`
            },

            // SOCIAL (6 emails)
            {
                id: 's1', label: 'social', sender: 'Strava', time: 'Feb 14', subject: 'Niv completed: "Running from my feelings"', snippet: 'New activity from Niv',
                body: `<p><strong>Niv completed a run</strong><br>Title: Running from my feelings (jk running toward her)<br>Distance: 5km. Pace: Longing.</p>`
            },
            {
                id: 's2', label: 'social', sender: 'Goodreads', time: 'Feb 10', subject: 'Niv added a book to "books she\'d love"', snippet: 'The Song of Achilles',
                body: `<p>Niv added <strong>The Song of Achilles</strong>. Review: "She mentioned Greek mythology once. Ordering it."</p>`
            },
            {
                id: 's3', label: 'social', sender: 'Letterboxd', time: 'Feb 11', subject: 'Niv logged: The Notebook', snippet: 'New review from Niv',
                body: `<p><strong>Watched: The Notebook</strong><br>Rating: 4/5. Review: "Distance is temporary. Cried three times."</p>`
            },
            {
                id: 's4', label: 'social', sender: 'Spotify', time: 'Feb 12', subject: 'Your Daily Mix: Songs that remind you of her', snippet: 'Playlist ready',
                body: `<p>Currently playing: "Distance" - literally every lyric.</p>`
            },
            {
                id: 's5', label: 'social', sender: 'Twitter/X', time: 'Feb 13', subject: '@NivTheObsessed: New tweet', snippet: 'Posted 2 minutes ago',
                body: `<p>Tweet: "Being in love long distance is just constantly thinking 'wish you were here' about everything."</p>`
            },
            {
                id: 's6', label: 'social', sender: 'Instagram', time: 'Feb 10', subject: 'Niv tagged you in a Reel', snippet: 'Subject: "Cats who act like dogs"',
                body: `<p>Reminded me of Stitch.</p>`
            },

            // PROMOTIONS (6 emails)
            {
                id: 'pr1', label: 'promotions', sender: 'Skyscanner', time: 'Feb 14', subject: 'Price Alert: Your City to My City', snippet: 'Price is stable (High).',
                body: `<p>I check this every morning. One day I will click buy.</p>`
            },
            {
                id: 'pr2', label: 'promotions', sender: 'Duolingo', time: 'Feb 13', subject: 'New Course: Speaking "Biology"', snippet: 'Learn to impress her.',
                body: `<p>Lesson 1: What is a chloroplast? (I still don't know).</p>`
            },
            {
                id: 'pr3', label: 'promotions', sender: 'Netflix', time: 'Feb 10', subject: 'New Arrival: Gilmore Girls', snippet: 'Resume playing Season 4',
                body: `<p>We know you watch this when you miss her.</p>`
            },
            {
                id: 'pr4', label: 'promotions', sender: 'Cat Fancy', time: 'Feb 08', subject: 'Subscription Offer', snippet: 'How to tell if your cat hates you',
                body: `<p>Perfect for Stitch owners.</p>`
            },
            {
                id: 'pr5', label: 'promotions', sender: 'Dragonfly Inn', time: 'Feb 14', subject: 'Reservation Confirmed (In dreams)', snippet: 'Table for two.',
                body: `<p>Menu: Burgers and excessive coffee.</p>`
            },
            {
                id: 'pr6', label: 'promotions', sender: 'Coursera', time: 'Feb 10', subject: 'Recommended: "Advanced LDR Management"', snippet: 'Based on your search history',
                body: `<p>Syllabus: Timezone math without crying.</p>`
            },

            // PURCHASES (4 emails)
            {
                id: 'pur1', label: 'purchases', sender: 'Amazon', time: 'Feb 09', subject: 'Order Confirmed: "Books She Mentioned"', snippet: 'Delivery estimate: Feb 14',
                isPurchase: true,
                pData: { product: 'Song of Achilles + Six of Crows', vendor: 'Amazon', num: 'LOVE-90210' },
                body: `<p>You mentioned books. I provide books.</p>`
            },
            {
                id: 'pur2', label: 'purchases', sender: 'BookMyShow', time: 'Feb 10', subject: 'Booking Confirmed: Future Dates', snippet: 'Reservations for when distance = 0',
                isPurchase: true,
                pData: { product: 'Future Movie Dates (x100)', vendor: 'BookMyShow', num: 'FUTURE-DATE' },
                body: `<p>Her choice of movie. Always.</p>`
            },
            {
                id: 'pur3', label: 'purchases', sender: 'Swiggy', time: 'Feb 12', subject: 'Order Placed: Momo Subscription', snippet: 'Future delivery',
                isPurchase: true,
                pData: { product: 'Momo & Wai Wai', vendor: 'Swiggy', num: 'MOMO-LOVE' },
                body: `<p>Stocking up for when you are here.</p>`
            },
            {
                id: 'pur4', label: 'purchases', sender: 'Zomato', time: 'Feb 13', subject: 'Pre-Order: Future Cakes', snippet: 'Planning ahead',
                isPurchase: true,
                pData: { product: 'Birthday Cakes (50 Years)', vendor: 'Zomato', num: 'CAKE-4-LIFE' },
                body: `<p>Yes, 50 years. I am committed.</p>`
            },

            // SPAM (2 emails)
            {
                id: 'sp1', label: 'spam', sender: 'Suspicious Link', time: 'Feb 11', subject: 'HOT SINGLES IN YOUR AREA (2083KM)', snippet: 'Match Found: Niv',
                body: `<p><strong>Match Found:</strong> Niv. Status: Taken by you.</p>`
            },
            {
                id: 'sp2', label: 'spam', sender: 'Free Prize', time: 'Feb 13', subject: 'YOU WON: One Boyfriend', snippet: 'Claim now',
                body: `<p>Features: Flight tracking, voice note hoarding.</p>`
            }
        ];

        // --- RENDER LOGIC ---
        const emailContainer = document.getElementById('emailContainer');
        const detailContent = document.getElementById('detailContent');
        const aiToggle = document.getElementById('aiToggle');
        
        // Login Logic: Click next -> Show Terms -> Click Accept -> Show App
        document.getElementById('loginBtn').onclick = () => {
            document.getElementById('login-view').style.display = 'none';
            document.getElementById('termsModal').style.display = 'flex';
        };

        document.getElementById('acceptTermsBtn').onclick = () => {
            document.getElementById('termsModal').style.display = 'none';
            document.getElementById('app-view').style.display = 'flex';
        };

        // Navigation Logic
        let currentFilter = 'primary';
        
        function renderList() {
            emailContainer.innerHTML = '';
            
            // Toggle AI overview visibility
            if(currentFilter === 'primary') {
                aiToggle.style.display = 'block';
            } else {
                aiToggle.style.display = 'none';
            }

            // Logic: 'all' shows everything except spam
            let filtered = [];
            if (currentFilter === 'all') {
                filtered = emails.filter(e => e.label !== 'spam');
            } else {
                filtered = emails.filter(e => e.label === currentFilter);
            }

            filtered.forEach(email => {
                const div = document.createElement('div');
                div.className = 'email-row';
                
                // Avatar logic
                let avatarHTML = '';
                if (email.sender === 'Niv') {
                    // Use the PFP link but fallback to a nice generated avatar if it fails (because google share links aren't images)
                    avatarHTML = `<div class="sender-avatar"><img src="${NIV_PFP_URL}" onerror="this.onerror=null; this.src='https://ui-avatars.com/api/?name=Niv&background=d93025&color=fff&size=128'"></div>`;
                } else {
                    const letter = email.sender.charAt(0);
                    const colors = ['#d93025', '#e37400', '#188038', '#1a73e8', '#a50e0e'];
                    const color = colors[email.sender.length % colors.length];
                    avatarHTML = `<div class="sender-avatar" style="background:${color}">${letter}</div>`;
                }

                div.innerHTML = `
                    ${avatarHTML}
                    <div class="email-content">
                        <div class="row-top">
                            <div class="row-sender">${email.sender}</div>
                            <div class="row-time">${email.time}</div>
                        </div>
                        <div class="row-subject">${email.subject}</div>
                        <div class="row-snippet">${email.snippet}</div>
                    </div>
                `;
                div.onclick = () => openEmail(email);
                emailContainer.appendChild(div);
            });
        }

        function openEmail(email) {
            document.getElementById('emailDetail').style.display = 'flex';
            
            let html = `
                <div class="detail-subject">${email.subject}</div>
                <div class="detail-meta">
                    <div class="detail-avatar">
                        ${email.sender === 'Niv' ? `<img src="${NIV_PFP_URL}" onerror="this.onerror=null; this.src='https://ui-avatars.com/api/?name=Niv&background=d93025&color=fff&size=128'">` : `<div style="width:100%;height:100%;background:#1a73e8;color:white;display:flex;align-items:center;justify-content:center;font-size:20px;">${email.sender.charAt(0)}</div>`}
                    </div>
                    <div class="meta-info">
                        <div>${email.sender}</div>
                        <div>to me • ${email.time}</div>
                    </div>
                </div>
            `;

            // Illustration for Love Yorker
            if(email.illustration) {
                html += email.illustration;
            }

            // Purchase Card Logic
            if(email.isPurchase) {
                html += `
                <div class="google-order-card">
                    <div class="card-header">
                        <div class="card-title-group">
                            <div class="card-title">${email.pData.product}</div>
                            <div class="card-sub">1 item from ${email.pData.vendor}</div>
                        </div>
                        <div class="card-logo">${email.pData.vendor.charAt(0)}</div>
                    </div>
                    <div class="card-status">Order placed</div>
                    <div class="card-row">
                        <div class="hash">#</div>
                        <div>
                            <div class="ord-label">Order number</div>
                            <div class="ord-val">${email.pData.num}</div>
                        </div>
                    </div>
                    <button class="view-btn">View order</button>
                </div>`;
            }

            html += `<div class="detail-body">${email.body}</div>`;
            detailContent.innerHTML = html;
        }

        // Event Listeners
        document.getElementById('closeDetail').onclick = () => {
            document.getElementById('emailDetail').style.display = 'none';
        };

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.onclick = () => {
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                item.classList.add('active');
                currentFilter = item.dataset.id;
                document.getElementById('catLabel').innerText = item.innerText.split('\n')[0]; // simple text
                renderList();
            };
        });

        // AI Toggle
        aiToggle.onclick = () => aiToggle.classList.toggle('open');

        // Search
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const rows = document.querySelectorAll('.email-row');
            rows.forEach(row => {
                const text = row.innerText.toLowerCase();
                row.style.display = text.includes(term) ? 'flex' : 'none';
            });
        });

        // Badges
        function updateBadges() {
            const counts = { primary: 0, social: 0, promotions: 0, purchases: 0, spam: 0, all: 0 };
            emails.forEach(e => {
                counts[e.label]++;
                if(e.label !== 'spam') counts.all++;
            });
            document.getElementById('badge-all').innerText = counts.all;
            document.getElementById('badge-social').innerText = counts.social;
            document.getElementById('badge-promotions').innerText = counts.promotions;
            document.getElementById('badge-purchases').innerText = counts.purchases;
            document.getElementById('badge-spam').innerText = counts.spam;
        }

        // Init
        renderList();
        updateBadges();

    </script>
</body>
</html>
