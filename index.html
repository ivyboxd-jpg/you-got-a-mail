<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mail</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --ios-blue: #007AFF;
            --ios-grey: #8E8E93;
            --ios-bg: #F2F2F7;
            --ios-border: #D1D1D6;
            --ios-white: #FFFFFF;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body, html {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: var(--ios-white);
            height: 100%; overflow: hidden;
        }

        /* --- LOGIN PAGE --- */
        #login-page {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; width: 100vw; background: #fff; z-index: 9999; position: fixed;
            padding: 20px; text-align: center;
        }
        .login-logo { width: 80px; height: 80px; margin-bottom: 20px; border-radius: 18px; }
        .login-title { font-size: 28px; font-weight: 700; margin: 0 0 8px; letter-spacing: -0.5px; }
        .login-subtitle { font-size: 16px; color: var(--ios-grey); margin-bottom: 40px; }
        .login-btn {
            width: 100%; max-width: 300px; padding: 16px; background: var(--ios-blue);
            color: white; border: none; border-radius: 12px; font-size: 17px; font-weight: 600; cursor: pointer;
        }

        /* --- SIDEBAR --- */
        #sidebar {
            position: fixed; left: -100%; top: 0; width: 85%; height: 100%;
            background: var(--ios-bg); transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            z-index: 3000; padding-top: 40px;
        }
        #sidebar.open { left: 0; }
        .sidebar-title { font-size: 34px; font-weight: 700; padding: 0 16px; margin-bottom: 20px; }
        .mailbox-list { background: white; border-radius: 10px; margin: 0 16px; overflow: hidden; }
        .mailbox-item {
            display: flex; align-items: center; padding: 12px 16px;
            text-decoration: none; color: black; border-bottom: 0.5px solid #E5E5EA; font-size: 17px;
        }
        .mailbox-item i { width: 25px; margin-right: 12px; font-size: 20px; color: var(--ios-blue); text-align: center; }
        .m-count { margin-left: auto; color: var(--ios-grey); }

        /* --- MAIN VIEW --- */
        #app-container { display: none; height: 100%; flex-direction: column; }
        header {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px);
            padding: 10px 16px; border-bottom: 0.5px solid var(--ios-border);
            position: sticky; top: 0; z-index: 1000;
        }
        .nav-row { display: flex; justify-content: space-between; align-items: center; height: 44px; }
        .mailbox-btn { color: var(--ios-blue); font-size: 17px; cursor: pointer; display: flex; align-items: center; }

        /* --- CENTERED PROFILE BOX --- */
        .profile-trigger {
            width: 34px; height: 34px; border-radius: 50%;
            overflow: hidden; cursor: pointer; border: 0.5px solid var(--ios-border);
        }
        .profile-trigger img { width: 100%; height: 100%; object-fit: cover; }

        #profile-box {
            display: none; position: absolute; top: 50px; right: 0;
            width: 240px; background: white; border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15); border: 0.5px solid var(--ios-border);
            padding: 20px; z-index: 2001; text-align: center;
        }
        .profile-email { font-size: 12px; color: var(--ios-grey); margin-bottom: 12px; text-transform: lowercase; display: block; }
        .profile-box-img { width: 64px; height: 64px; border-radius: 50%; margin: 0 auto 12px; display: block; object-fit: cover; }
        .profile-hi { font-weight: 600; font-size: 17px; margin: 0; }

        /* --- LISTS --- */
        .search-section { padding: 10px 16px; }
        .search-wrap { background: rgba(118, 118, 128, 0.12); border-radius: 10px; padding: 8px 12px; display: flex; align-items: center; }
        .search-wrap input { border: none; background: transparent; outline: none; width: 100%; font-size: 17px; margin-left: 8px; }

        .email-list-container { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .email-item { padding: 12px 16px; border-bottom: 0.5px solid var(--ios-border); cursor: pointer; position: relative; }
        .unread-dot { position: absolute; left: 6px; top: 22px; width: 8px; height: 8px; background: var(--ios-blue); border-radius: 50%; }
        .email-row { display: flex; justify-content: space-between; padding-left: 12px; }
        .sender { font-weight: 700; font-size: 17px; }
        .time { color: var(--ios-grey); font-size: 15px; }
        .subject { font-weight: 600; font-size: 15px; padding-left: 12px; margin: 2px 0; }
        .preview { color: var(--ios-grey); font-size: 14px; padding-left: 12px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.3; }

        /* --- DETAIL VIEW --- */
        #detail-view {
            position: fixed; top: 0; left: 100%; width: 100%; height: 100%;
            background: white; z-index: 4000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto; display: flex; flex-direction: column;
        }
        #detail-view.active { left: 0; }
        .detail-header { padding: 10px 16px; border-bottom: 0.5px solid var(--ios-border); display: flex; align-items: center; height: 50px; }
        .detail-body { padding: 20px 16px; flex: 1; }
        .detail-subject { font-size: 24px; font-weight: 700; margin-bottom: 15px; line-height: 1.2; }
        .sender-info { display: flex; align-items: center; margin-bottom: 25px; }
        .niv-avatar { width: 40px; height: 40px; border-radius: 50%; background: var(--ios-blue); color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 12px; }
        .detail-content { font-size: 17px; line-height: 1.5; color: #222; white-space: pre-wrap; }

        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 2500; }
        .overlay.active { display: block; }
    </style>
</head>
<body>

<!-- Login -->
<div id="login-page">
    <img src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Mail_%28iOS%29.svg" class="login-logo">
    <h1 class="login-title">Mail</h1>
    <p class="login-subtitle">Sign in to your private inbox</p>
    <button class="login-btn" onclick="login()">Continue to aaradhya@lovedbyniv.com</button>
</div>

<!-- Main Container -->
<div id="app-container">
    <div id="sidebar">
        <h2 class="sidebar-title">Mailboxes</h2>
        <div class="mailbox-list">
            <a href="#" class="mailbox-item" onclick="setBox('Inbox')"><i class="fa-solid fa-inbox"></i> Inbox <span class="m-count" id="count-Inbox">10</span></a>
            <a href="#" class="mailbox-item" onclick="setBox('VIP')"><i class="fa-solid fa-star" style="color:#FFCC00"></i> VIP <span class="m-count" id="count-VIP">8</span></a>
            <a href="#" class="mailbox-item" onclick="setBox('Junk')"><i class="fa-solid fa-box-archive"></i> Junk <span class="m-count">4</span></a>
            <a href="#" class="mailbox-item" onclick="setBox('Bin')"><i class="fa-solid fa-trash"></i> Bin <span class="m-count">4</span></a>
            <a href="#" class="mailbox-item" onclick="setBox('Spam')"><i class="fa-solid fa-triangle-exclamation" style="color:#FF9500"></i> Spam <span class="m-count">4</span></a>
        </div>
    </div>

    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

    <header>
        <div class="nav-row">
            <div class="mailbox-btn" onclick="toggleSidebar()"><i class="fa-solid fa-chevron-left" style="margin-right: 5px;"></i> Mailboxes</div>
            <div class="profile-container">
                <div class="profile-trigger" onclick="toggleProfile()">
                    <img src="https://images.ctfassets.net/yadj1kx9rmu0/6S7y3R8zXyI0yQqU4K4S6O/49e9d6d5d5a6d5d5d5d5d5d5d5d5d5d5/Lorelai_Gilmore.jpg" onerror="this.src='https://ui-avatars.com/api/?name=Lorelai&background=007AFF&color=fff'">
                </div>
                <div id="profile-box">
                    <span class="profile-email">aaradhya@lovedbyniv.com</span>
                    <img src="https://images.ctfassets.net/yadj1kx9rmu0/6S7y3R8zXyI0yQqU4K4S6O/49e9d6d5d5a6d5d5d5d5d5d5d5d5d5d5/Lorelai_Gilmore.jpg" class="profile-box-img" onerror="this.src='https://ui-avatars.com/api/?name=Lorelai&background=007AFF&color=fff'">
                    <p class="profile-hi">hi aaradhya</p>
                </div>
            </div>
        </div>
        <h1 id="view-title" style="font-size: 34px; font-weight: 700; margin: 12px 0 8px;">Inbox</h1>
    </header>

    <div class="search-section">
        <div class="search-wrap">
            <i class="fa-solid fa-magnifying-glass" style="color: #8E8E93; font-size:14px;"></i>
            <input type="text" id="searchInput" placeholder="Search" onkeyup="handleSearch()">
        </div>
    </div>

    <div class="email-list-container" id="email-list"></div>
</div>

<!-- Detail View -->
<div id="detail-view">
    <div class="detail-header">
        <div class="mailbox-btn" onclick="closeEmail()"><i class="fa-solid fa-chevron-left"></i> Back</div>
    </div>
    <div class="detail-body">
        <div class="detail-subject" id="d-subject"></div>
        <div class="sender-info">
            <div class="niv-avatar">N</div>
            <div>
                <div style="font-weight:700;">niv</div>
                <div style="color:var(--ios-grey); font-size:14px;">to: aaradhya</div>
            </div>
        </div>
        <div class="detail-content" id="d-content"></div>
    </div>
</div>

<script>
    const emails = {
        'Inbox': [
            { sender: 'niv', subject: 'stitch misses you', time: '9:41 AM', preview: 'he sat by the phone today while we talked...', content: 'stitch has started doing this thing where he sits right next to the phone whenever he hears your voice. i think he misses having you on the screen. he spent ten minutes staring at the spot where your face usually is. it made me realize how much of a constant you are here, even from a distance.' },
            { sender: 'niv', subject: 'exams don\'t define you', time: '8:22 AM', preview: 'i know the stress is hitting a peak right now...', content: 'i know you are buried in books, but i want to remind you that your worth has nothing to do with a test score. you are intelligent and capable regardless of what happens in that exam hall. just do what you can. i am proud of the effort, not just the result.' },
            { sender: 'niv', subject: 'morning voice', time: 'Yesterday', preview: 'hearing your sleepy morning voice today was...', content: 'hearing your sleepy voice this morning was the highlight of my day. it makes the 3000 miles feel non-existent for a few minutes. i wish i could just hand you a coffee and tell you you\'ve got this.' },
            { sender: 'niv', subject: 'study break reminder', time: 'Yesterday', preview: 'go get some water and stretch for five minutes...', content: 'you have been at your desk for too long. please go get some water and stretch. the books will still be there when you get back. your brain needs a reset, and i need you to stay healthy.' },
            { sender: 'niv', subject: 'the facetime snapshot', time: 'Wednesday', preview: 'i still remember exactly where i was during our first call...', content: 'i still have that mental picture of you from the first time we facetimed. i was so nervous, but then you smiled and everything just clicked. it feels like i\'ve known you forever, even if we\'ve only met through a screen.' },
            { sender: 'niv', subject: 'appreciation post', time: 'Tuesday', preview: 'i don\'t say it enough, but i really appreciate you...', content: 'i really appreciate how you make time for us even when your schedule is falling apart. you manage to be a source of calm for me while dealing with your own chaos. i don\'t take that for granted.' },
            { sender: 'niv', subject: 'counting down', time: 'Monday', preview: 'i looked at flight tickets today just for fun...', content: 'i spent a while looking at flights today. just seeing the destination next to your name makes the gap feel smaller. one day soon, we won\'t have to say goodbye through a phone.' },
            { sender: 'niv', subject: 'your laugh', time: 'Sunday', preview: 'that one joke you told made me realize...', content: 'the way you laugh when you\'re actually tired is my favorite sound. it\'s so genuine. thank you for being yourself with me, even when you\'re stressed.' },
            { sender: 'niv', subject: 'playlist update', time: 'Oct 18', preview: 'added three new songs that reminded me of you...', content: 'i updated our shared playlist. there is one specific track by the end that reminds me of that story you told me. listen to it when you need a break from studying.' },
            { sender: 'niv', subject: 'just proud of you', time: 'Oct 17', preview: 'no reason, just wanted to say it out loud...', content: 'no specific reason for this email, just wanted to say i\'m proud of how you\'re handling everything lately. you\'re stronger than you give yourself credit for.' }
        ],
        'VIP': [
            { sender: 'niv', subject: 'priority status', time: '10:15 AM', preview: 'you are the only person on this list for a reason...', content: 'you are the only contact that can bypass my do not disturb settings. if you need me, i am answering. you are my highest priority, always.' },
            { sender: 'niv', subject: 'my safe space', time: 'Yesterday', preview: 'talking to you feels like coming home...', content: 'no matter how chaotic the world gets, our calls are my safe space. i can be 100% myself with you, and that is a rare thing to find.' },
            { sender: 'niv', subject: 'a small promise', time: 'Oct 15', preview: 'i promise to stay in your corner through it all...', content: 'i promise to keep showing up, even when things are messy. you don\'t have to handle the heavy stuff alone. i am right here.' },
            { sender: 'niv', subject: 'reliability', time: 'Oct 14', preview: 'i want to be the person you lean on...', content: 'i want to be the one you go to when everything else is falling apart. i\'m here for the good days, but i\'m more here for the bad ones.' },
            { sender: 'niv', subject: 'first impressions', time: 'Oct 12', preview: 'what i thought when we first started talking...', content: 'i remember thinking after our first long call that i hadn\'t felt that connected to someone in a long time. i\'m so glad i was right.' },
            { sender: 'niv', subject: 'future coffee dates', time: 'Oct 10', preview: 'imagining us in a real cafe instead of over video...', content: 'i spent some time today imagining us sitting in a real cafe instead of drinking coffee over a camera. it\'s going to happen, and it\'s going to be perfect.' },
            { sender: 'niv', subject: 'personality traits', time: 'Oct 8', preview: 'the things i love about how your mind works...', content: 'i love how your mind works. your wit and your perspective on things always leave me impressed. you are so much more than just a beautiful face.' },
            { sender: 'niv', subject: 'long term', time: 'Oct 5', preview: 'i see you in my future, aaradhya...', content: 'i don\'t do anything half-way. when i say i\'m here for you, i mean for the long haul. i\'m excited for everything we haven\'t done yet.' }
        ],
        'Junk': [
            { sender: 'system', subject: 'anxiety filter', time: '1:00 PM', preview: 'moving all your exam worries here...', content: 'i am taking all your exam anxieties and moving them here. they don\'t belong in your main inbox or your head.' },
            { sender: 'distance', subject: '3000 miles', time: 'Yesterday', preview: 'blocked: this notification is irrelevant...', content: 'the distance tried to send a reminder that we are far apart. i marked it as junk because it doesn\'t change how i feel about you.' },
            { sender: 'self-doubt', subject: 'not enough', time: 'Oct 14', preview: 'discarded: you are doing great...', content: 'any thought that tells you that you aren\'t doing enough is being redirected to this folder. you are doing amazing.' },
            { sender: 'comparison', subject: 'others are ahead', time: 'Oct 12', preview: 'deleted: stay on your own path...', content: 'don\'t look at what anyone else is doing. you are on your own timeline and you are winning.' }
        ],
        'Bin': [
            { sender: 'trash', subject: 'bad mood from tuesday', time: '9:00 AM', preview: 'discarding the rough moments...', content: 'i am throwing away the memory of any bad day you had this week. tomorrow is a fresh start.' },
            { sender: 'old insecurities', subject: 'not good enough', time: 'Yesterday', preview: 'permanently deleted...', content: 'that version of you that thinks she isn\'t enough? i\'ve moved her to the bin. you are everything i want.' },
            { sender: 'silence', subject: 'pre-niv era', time: 'Oct 5', preview: 'discarding the days before we met...', content: 'life was too quiet before we started talking. i prefer the noise of our daily calls much more.' },
            { sender: 'disagreements', subject: 'that small tiff', time: 'Oct 3', preview: 'cleared from history...', content: 'whatever small thing we disagreed on is gone. only the good memories stay.' }
        ],
        'Spam': [
            { sender: 'hydration bot', subject: 'water check', time: 'Daily', preview: 'drink some water right now...', content: 'this is an automated check to make sure you have had water today. please take a sip for me.' },
            { sender: 'affection overload', subject: 'limit reached', time: 'Daily', preview: 'system crashing due to love...', content: 'my heart\'s server is crashing because i think about you too much. error: love levels too high.' },
            { sender: 'noise canceler', subject: 'external world', time: 'Daily', preview: 'blocking out the world for you...', content: 'tuning out everything else so i can just focus on us. everything else is just background noise.' },
            { sender: 'sleep alert', subject: 'late night', time: 'Nightly', preview: 'go to bed soon, aaradhya...', content: 'close the books. you need sleep to function. i want you rested and feeling good tomorrow.' }
        ]
    };

    function login() {
        document.getElementById('login-page').style.display = 'none';
        document.getElementById('app-container').style.display = 'flex';
        renderEmails();
    }

    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('open');
        document.getElementById('overlay').classList.toggle('active');
    }

    function toggleProfile() {
        const box = document.getElementById('profile-box');
        box.style.display = (box.style.display === 'block') ? 'none' : 'block';
    }

    let currentBox = 'Inbox';

    function setBox(name) {
        currentBox = name;
        document.getElementById('view-title').innerText = name.toLowerCase();
        renderEmails();
        toggleSidebar();
    }

    function renderEmails(filter = "") {
        const list = document.getElementById('email-list');
        list.innerHTML = "";
        const data = emails[currentBox] || [];
        data.forEach((m, i) => {
            if (m.subject.toLowerCase().includes(filter.toLowerCase())) {
                const item = document.createElement('div');
                item.className = 'email-item';
                item.onclick = () => openEmail(m);
                item.innerHTML = `
                    ${i < 3 ? '<div class="unread-dot"></div>' : ''}
                    <div class="email-row"><span class="sender">${m.sender}</span><span class="time">${m.time} â€º</span></div>
                    <div class="subject">${m.subject}</div>
                    <div class="preview">${m.preview}</div>
                `;
                list.appendChild(item);
            }
        });
    }

    function handleSearch() {
        renderEmails(document.getElementById('searchInput').value);
    }

    function openEmail(m) {
        document.getElementById('d-subject').innerText = m.subject;
        document.getElementById('d-content').innerText = m.content;
        document.getElementById('detail-view').classList.add('active');
    }

    function closeEmail() {
        document.getElementById('detail-view').classList.remove('active');
    }
</script>

</body>
</html>
